"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[897],{3897:(e,s,r)=>{r.r(s),r.d(s,{default:()=>v});var t=function(){var e=this,s=e._self._c;return s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[e._v("Login")]),s("b-form",{on:{submit:function(s){return s.preventDefault(),e.onLogin.apply(null,arguments)}}},[s("b-form-group",{attrs:{id:"input-group-Username","label-cols-sm":"3",label:"Username:","label-for":"Username"}},[s("b-form-input",{attrs:{id:"Username",type:"text",state:e.validateState("username")},model:{value:e.$v.form.username.$model,callback:function(s){e.$set(e.$v.form.username,"$model",s)},expression:"$v.form.username.$model"}}),s("b-form-invalid-feedback",[e._v(" Username is required ")])],1),s("b-form-group",{attrs:{id:"input-group-Password","label-cols-sm":"3",label:"Password:","label-for":"Password"}},[s("b-form-input",{attrs:{id:"Password",type:"password",state:e.validateState("password")},model:{value:e.$v.form.password.$model,callback:function(s){e.$set(e.$v.form.password,"$model",s)},expression:"$v.form.password.$model"}}),s("b-form-invalid-feedback",[e._v(" Password is required ")])],1),s("b-button",{staticClass:"mx-auto w-100",staticStyle:{width:"100px",display:"block"},attrs:{type:"submit",variant:"primary"}},[e._v("Login")]),s("div",{staticClass:"mt-2"},[e._v(" Do not have an account yet? "),s("router-link",{attrs:{to:"register"}},[e._v(" Register in here")])],1)],1),e.form.submitError?s("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Login failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)},a=[],o=r(124),n=r(8534),i=(r(7658),r(379)),u=r(9239),m=r(2756);const l={name:"Login",data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:i.C1},password:{required:i.C1}}},methods:{validateState:function(e){var s=this.$v.form[e],r=s.$dirty,t=s.$error;return r?!t:null},Login:function(){var e=this;return(0,n.Z)((0,o.Z)().mark((function s(){var r,t;return(0,o.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,r=!0,t={username:e.form.username,password:e.form.password},s.next=5,(0,u.sD)(t,r);case 5:s.sent,e.$root.store.login(e.form.username),m.m.login(e.form.username),m.N.$emit("user-logged-in",e.form.username),e.$router.push("/"),s.next=16;break;case 12:s.prev=12,s.t0=s["catch"](0),console.log(s.t0.response),e.form.submitError=s.t0.response.data.message;case 16:case"end":return s.stop()}}),s,null,[[0,12]])})))()},onLogin:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||this.Login()}}},d=l;var c=r(1001),f=(0,c.Z)(d,t,a,!1,null,"00488c6d",null);const v=f.exports},9239:(e,s,r)=>{function t(e){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!s)throw{status:409,response:{data:{message:"A user is already logged in",success:!1}}};return{status:200,response:{data:{message:"login succeeded",success:!0}}}}function a(e){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!s)throw{status:409,response:{data:{message:"Username taken",success:!1}}};return{status:200,response:{data:{message:"user created",success:!0}}}}r.d(s,{Ge:()=>a,sD:()=>t})}}]);
//# sourceMappingURL=897.acdd93af.js.map